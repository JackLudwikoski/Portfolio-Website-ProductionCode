"use strict";(self.webpackChunksitesbyjack=self.webpackChunksitesbyjack||[]).push([[181],{3474:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(7294),r=n(9499),l=function(){var e=(0,a.useState)([]),t=e[0],n=e[1];(0,a.useEffect)((function(){fetch("https://sitesbyjack.com/messages").then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){n(e.data)})).catch((function(e){console.log(e)}))}),[]);var r=t.map((function(e){return a.createElement("tr",null,a.createElement("td",null,e.firstName),a.createElement("td",null,e.lastName),a.createElement("td",null,e.email),a.createElement("td",null,e.reasonForContacting),a.createElement("td",null,e.message))}));return a.createElement("section",{className:"messagesCont"},a.createElement("h1",{className:"messagesTitle"},"Messages"),a.createElement("table",{className:"messagesTable"},a.createElement("tr",null,a.createElement("th",null,"First Name"),a.createElement("th",null,"Last Name"),a.createElement("th",null,"Email"),a.createElement("th",null,"Reason For Contacting"),a.createElement("th",null,"Message")),r))},s=n(1721),o=n(5444),i=function(){return"undefined"!=typeof window&&window.localStorage.getItem("gatsbyUser")?JSON.parse(window.localStorage.getItem("gatsbyUser")):{}},m=function(e){window.localStorage.setItem("gatsbyUser",JSON.stringify(e))},c=function(e){var t=e.username,n=e.password;return"jackludwikoski"===t&&"Sportjack137955!"===n&&m({username:"jackludwikoski",name:"Jack",email:"jdludwikoski@gmail.com"})},u=function(){return!!i().username},d=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={username:"",password:""},t.handleUpdate=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t.handleSubmit=function(e){e.preventDefault(),c(t.state)},t}return(0,s.Z)(t,e),t.prototype.render=function(){var e=this;return u()&&(0,o.navigate)("/admin/inbox"),a.createElement("section",{className:"adminLogin"},a.createElement("form",{className:"adminLoginForm",method:"post",onSubmit:function(t){e.handleSubmit(t),(0,o.navigate)("/admin/inbox")}},a.createElement("h1",{className:"adminLoginFormTitle"},"Admin Login"),a.createElement("input",{type:"text",name:"username",className:"adminUsername",placeholder:"Username",onChange:this.handleUpdate}),a.createElement("input",{type:"password",name:"password",className:"adminPassword",placeholder:"Password",onChange:this.handleUpdate}),a.createElement("input",{type:"submit",value:"Log In",className:"adminFormSubmit"})))},t}(a.Component);var f=["component","location"],g=function(e){var t=e.component,n=e.location,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,f);return u()||"/admin/login"===n.pathname?a.createElement(t,r):((0,o.navigate)("/admin/login"),null)},h=function(){return a.createElement(r.Router,null,a.createElement(g,{path:"/admin/inbox",component:l}),a.createElement(d,{path:"/admin/login"}))}}}]);
//# sourceMappingURL=component---src-pages-admin-js-99159c45d531e0dbc2ef.js.map